
<!DOCTYPE html>
<html>


<head>
<title> Visualizing snake </title>
</head>


<body>

<div class="panel">
<canvas id="canvas" width="1000" height="600" style="position:relative; top:50px; left:50px"></canvas>
</div>

<script>

var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');
 
boardx = 10;
boardy = 10;
cellS = 40;
windx = 1000;
windy = 600;
marginx = (windx - boardx * cellS) / 2
marginy = (windy - boardy * cellS) / 2
border = 5
snakeWidth = 20
appleSize = 20
textSize = 20

framesPerMove = 7

dir = [[0,1], [1,0], [0,-1], [-1,0]];

pi = Math.PI;

space = "#fff"
cLine = "#000"
cShade = "#eee"
cSnake = "#00f"
cApple = "#f00"
cText = "#000"

cValue = "#d00"
cSearch = "#bb0"
cNetwork = "#0d0"

cPolicy = "#66d"
cNetPolicy = "#f0f"

TIME_LIMIT = 1200

function randint(max){
    return Math.floor(Math.random()*max)
}

class Environment{
    constructor(){
        this.timer = 0
        this.score = 0;
        this.actionType = 0;
        this.snakeSize = 2;
        this.headx = boardx/2;
        this.heady = 2;
        this.tailx = this.headx;
        this.taily = 1;

        this.snake = []
        for(var i=0; i<boardx; i++){
            this.snake[i] = []
            for(var j=0; j<boardy; j++){
                this.snake[i][j] = -1;
            }
        }
        this.snake[this.headx][this.heady] = 4;
        this.snake[this.tailx][this.taily] = 0;
        this.applex = 0;
        this.appley = 0;
    }

    agentAction(actionIndex){
        this.timer ++
        var newHeadx = this.headx + dir[actionIndex][0];
        var newHeady = this.heady + dir[actionIndex][1];
        this.snake[this.headx][this.heady] = actionIndex;
        this.headx = newHeadx;
        this.heady = newHeady;
        this.snake[newHeadx][newHeady] = 4;

        if(this.headx == this.applex && this.heady == this.appley){
            this.score += 1;
            //score += 1 - timer*0.5/maxTime;
            this.snakeSize++;
            this.actionType = 1;
        }
        else{
            var tailDir = this.snake[this.tailx][this.taily];
            this.snake[this.tailx][this.taily] = -1;
            this.tailx += dir[tailDir][0];
            this.taily += dir[tailDir][1];
        }
    }

    chanceAction(actionIndex){
        this.applex = Math.floor(actionIndex / boardy);
        this.appley = actionIndex % boardy;
        this.actionType = 0
    }

    validAgentAction(d){
        var newHeadx = this.headx + dir[d][0];
        var newHeady = this.heady + dir[d][1];
        if(newHeadx == -1 || newHeadx == boardx){
            return false;
        }
        if(newHeady == -1 || newHeady == boardy){
            return false;
        }
        return this.snake[newHeadx][newHeady] == -1;
    }

    randomChanceAction(){
        while(true){
            this.applex = randint(boardx)
            this.appley = randint(boardy)
            if(this.snake[this.applex][this.appley] == -1){
                break
            }
        }
        this.actionType = 0
    }
}

env = new Environment();

//Agent game:
actions = [46,3,0,0,0,0,19,1,2,3,0,3,0,0,0,3,3,73,3,1,1,1,1,2,1,0,1,1,2,2,2,2,2,14,1,2,3,3,3,3,2,3,0,3,0,3,0,49,1,1,0,1,0,0,0,0,60,3,2,2,2,1,1,1,2,1,2,2,2,2,2,3,83,0,0,0,0,1,1,2,8,3,2,3,0,3,0,1,0,0,0,3,3,3,3,3,3,0,13,0,2,0,2,2,3,2,2,2,3,2,73,1,1,1,1,1,1,94,1,1,0,61,0,0,0,3,3,3,3,0,3,2,2,3,3,2,3,2,1,2,2,1,2,1,1,1,52,0,3,27,3,3,0,0,0,3,78,2,3,0,0,1,1,1,1,1,1,40,2,3,2,2,1,0,2,2,3,3,2,2,2,2,3,3,42,0,0,3,3,3,3,3,0,70,1,0,3,1,0,1,1,1,1,0,0,1,0,1,2,2,3,1,2,2,2,2,2,2,31,1,1,3,1,3,1,3,1,3,3,2,3,0,3,0,3,2,3,0,3,2,2,3,2,2,2,1,2,1,2,33,1,0,0,3,88,3,1,2,0,1,1,0,1,0,0,61,0,3,3,3,3,2,2,2,3,3,3,2,2,2,1,2,1,1,1,2,1,62,0,25,0,3,3,3,3,85,2,1,1,1,0,92,1,2,2,3,2,2,3,3,0,0,3,3,0,3,86,0,0,1,2,0,0,1,1,1,1,1,1,84,2,2,49,2,2,2,0,0,3,2,2,2,3,3,3,3,0,1,1,1,3,3,3,0,0,0,0,0,0,0,1,1,90,1,2,2,2,2,1,0,1,2,1,2,2,1,2,2,2,10,3,3,3,3,3,3,53,3,0,0,0,0,1,1,2,1,2,1,1,45,0,3,21,3,1,0,0,1,0,1,2,1,2,2,2,1,2,2,1,2,3,3,3,3,3,3,2,3,39,0,0,0,0,1,0,0,1,3,3,3,0,5,1,0,2,2,2,2,1,2,1,0,1,2,3,3,3,0,2,3,3,3,0,3,3,0,96,1,1,1,2,1,0,2,0,0,1,1,1,1,1,1,2,2,13,2,1,2,3,0,2,3,3,3,3,3,3,16,2,3,0,0,0,1,82,2,2,1,1,0,3,1,0,0,1,1,0,1,1,1,1,2,2,2,1,2,3,17,0,2,3,0,3,2,3,3,2,2,3,3,2,3,0,0,0,0,1,0,75,1,2,1,2,1,1,1,1,40,0,1,3,3,3,0,1,3,1,3,2,3,0,3,3,2,2,2,2,34,3,0,0,0,0,82,2,3,3,0,1,1,0,0,1,2,2,2,1,0,3,1,0,3,1,2,2,2,2,0,1,2,2,2,2,8,2,3,2,3,0,3,2,0,0,3,0,1,0,3,3,0,3,0,0,0,0,27,1,1,2,79,3,2,0,2,0,1,0,0,0,1,1,63,1,1,2,2,0,0,3,3,49,0,3,2,3,3,0,2,3,2,1,2,3,1,3,1,1,1,1,0,0,0,0,56,2,2,2,3,0,1,0,3,1]
values = [1.69049,1.77947,1.87312,1.97171,2.07548,2.18472,1.18472,1.24707,1.31271,1.3818,1.45453,1.53108,1.61166,1.69649,1.78578,1.87976,1.9787,0.978699,1.08443,1.14151,1.20159,1.26483,1.3314,1.40147,1.47523,1.55288,1.63461,1.72064,1.8112,1.90652,2.00687,2.11249,2.22368,1.22368,1.28808,1.35587,1.42723,1.50235,1.58142,1.66466,1.75227,1.84449,1.94157,2.04376,2.15133,2.26456,2.38374,1.38374,1.45657,1.53323,1.61393,1.69887,1.78829,1.88241,1.98148,2.08577,1.08577,1.14292,1.20307,1.26639,1.33304,1.4032,1.47705,1.55479,1.63662,1.72276,1.81343,1.90888,2.00935,2.1151,2.22642,2.3436,1.3436,1.41432,1.48876,1.56711,1.64959,1.73641,1.8278,1.924,0.924002,1.02382,1.07771,1.13443,1.19414,1.25699,1.32315,1.46609,1.54325,1.62447,1.70997,1.79997,1.89471,1.99443,2.0994,2.20989,2.3262,2.44864,1.44864,1.60514,1.77854,1.97069,2.07441,2.18359,2.29851,2.41949,2.54683,2.68087,2.82197,2.97049,1.97049,2.0742,2.18337,2.29829,2.41925,2.54658,2.68061,1.68061,1.76906,1.86217,1.96018,0.96018,1.01072,1.06391,1.11991,1.17885,1.24089,1.3062,1.37495,1.44732,1.52349,1.60368,1.68808,1.77693,1.87045,1.96889,2.07252,2.1816,2.29642,2.41728,2.54451,2.67843,2.8194,2.96779,3.12399,3.28841,2.28841,2.40885,2.53564,1.53564,1.70154,1.88536,1.98459,2.08904,2.19899,2.31473,1.31473,1.38392,1.45676,1.53343,1.61414,1.69909,1.78852,1.88265,1.98174,2.08604,2.19583,1.19583,1.25877,1.32502,1.39476,1.46817,1.54544,1.7124,1.80253,1.89739,1.99726,2.10238,2.21303,2.3295,2.45211,2.58117,2.71702,2.86002,1.86002,1.95791,2.06096,1.06096,1.1168,1.17558,1.23745,1.30258,1.37114,0.371141,0.390675,0.411237,0.455664,0.479646,0.504891,0.531464,0.559436,0.58888,0.619873,0.652498,0.68684,0.72299,0.761042,0.801097,0.84326,0.887642,0.983536,1.0353,1.08979,1.14715,1.20752,1.27108,1.33798,1.4084,0.408397,0.429892,0.476335,0.527795,0.584814,0.647993,0.717998,0.795566,0.881514,0.927909,0.976746,1.02815,1.08227,1.13923,1.19919,1.2623,1.32874,1.39867,1.47229,1.54978,1.63134,1.7172,1.80758,1.90272,2.00286,2.10828,2.21924,2.33604,2.45899,2.58841,2.72464,1.72464,1.81541,1.91096,2.01154,2.11741,1.17622,1.37189,1.44409,1.6001,1.68432,1.77296,1.86628,1.9645,2.0679,2.17673,2.2913,1.2913,1.35926,1.4308,1.50611,1.58538,1.66882,1.75665,1.84911,1.94643,2.04887,2.15671,2.27022,2.3897,2.51548,2.64787,2.78723,2.93393,3.08834,3.25089,3.42199,3.60209,3.79168,2.79168,2.93861,1.93861,2.04064,2.14804,2.2611,2.50537,2.77603,1.9679,2.1805,2.29527,2.41607,2.54323,2.67709,1.67709,1.76535,1.95607,2.05902,1.05902,1.11476,1.23519,1.3002,1.51649,1.5963,1.68032,1.76876,1.86185,2.06299,2.17157,1.17157,1.23323,1.29814,1.36646,1.51409,1.59377,1.67766,1.76595,1.8589,1.95674,2.05972,2.16813,2.28224,1.28224,1.34973,1.42077,0.420766,0.442911,0.466222,0.51659,0.543779,0.572399,0.602525,0.634237,0.667618,0.702755,0.739742,0.778676,0.819659,0.862799,0.90821,0.95601,1.00633,1.11504,1.17373,1.2355,1.30053,1.36898,1.44103,1.51688,1.59671,1.68075,1.76921,1.86233,1.96034,2.06352,1.06352,1.11949,1.17841,1.24044,1.30572,1.37444,1.44678,1.52293,1.60308,1.68746,1.77627,1.86976,1.96817,2.07175,2.18079,2.29557,2.41639,1.49094,1.56941,1.65201,1.83048,1.92682,2.02824,2.13499,1.13499,1.2576,1.32379,1.39346,1.4668,1.544,1.62527,1.71081,1.80085,1.89563,1.9954,2.10042,2.21097,1.21097,1.27471,1.41242,0.412419,0.456973,0.481025,0.506342,0.532991,0.561044,0.590572,0.621655,0.654374,0.688814,0.725068,0.763229,0.803399,0.845683,0.890193,0.937045,0.986363,1.03828,1.09292,1.15045,1.211,1.27473,1.34182,1.41245,1.48678,1.56504,0.565036,0.594775,0.659031,0.693716,0.730228,0.768661,0.809117,0.851702,0.943714,0.993383,1.04567,1.1007,1.35137,0.389333,0.409824,0.454098,0.477998,0.503156,0.529638,0.557514,0.586857,0.617744,0.650257,0.684481,0.720506,0.798344,0.840363,0.884592,0.93115,1.03174,1.08605,1.14321,1.20338,1.26671,1.33338,1.40356,1.47743,1.55519,0.55519,0.584411,0.615169,0.647546,0.755266,0.83686,0.927269,1.02744,1.08152,1.13844,1.19836,1.32782,1.39771,1.47127,1.54871,1.71602,1.80634,1.90141,0.94885,0.998789,1.10669,1.16494,1.22625,1.35873,1.43024,1.50551,1.58475,1.66816,1.75596,1.84838,1.94566,0.94566,0.995431,1.04782,1.16102,1.22213,1.28645,1.35416,0.354159,0.372799,0.413074,0.434815,0.4577,0.481789,0.561935,0.59151,0.622643,0.655413,0.689909,0.72622,0.764442,0.804676,0.847027,0.891607,0.98793,1.03993,1.15227,1.21292,1.41469,1.48915,1.56752,0.567523,0.661931,0.696769,0.733441,0.772044,0.812678,0.85545,0.900474,0.947867,0.997755,1.05027,1.10555,1.16373,1.22498,1.42876,1.50396,1.58311,1.66643,1.75414,1.84646,1.94365,0.943645,0.993311,1.04559,1.10062,1.15855,1.21952,1.28371,1.35127,1.42239,0.444625,0.468026,0.518589,0.545883,0.574614,0.604856,0.636691,0.911724,1.01022,1.11936,1.17827,1.24029,1.30556,1.44661,1.52275,1.60289,1.68725,1.77606,1.86953,1.96793,0.967929,1.01887,1.0725,1.12894,1.18836,1.25091,0.264113,0.278014,0.292646,0.308049,0.324262,0.359293,0.398109,0.419062,0.441118,0.464334,0.488773,0.514498,0.570081,0.600085,0.631668,0.699909,0.736747,0.775523,0.859305,0.952139,1.00225,1.055,1.11053,1.2305,1.29526,1.36344,1.4352,1.51073,1.59025,1.67394,0.673943,0.709413,0.746751,0.786054,0.827425,0.870973,0.916814,1.01586,1.06933,1.12561,1.18485,1.24721,1.31285,1.38195,1.61184,1.69667,1.78597,1.87997,1.97892,2.08307,2.1927,2.30811,1.30811,1.37696,1.44943,1.52571,0.525715,0.582509,0.645439,0.715168,0.79243,0.834137,0.878039,0.924252,0.972897,1.0241,1.078,1.13474,0.134739,0.14183,0.157153,0.165424,0.262474,0.276288,0.290829,0.306136,0.322249,-0.677751,-0.713422,-0.750971,-0.832101,-0.875896,-0.921995,-1.25426,-1.32027,-1.38976,-1.46291,-1.5399,-1.62095,-2.09484,-2.32115,-2.57192,-2.70728,-2.84977,-2.99976,-3.15764,-3.32383,-3.49877,-3.68291,-3.87675,-5.13342,-5.4036,-5.688,-6.30249,-6.6342,-6.98337,-7.73781,-8.57375,-9.5,-10]
network_values = [0.911185,0.911713,0.908209,0.901008,0.899553,0.901941,0.901693,0.908608,0.906741,0.906414,0.90717,0.901073,0.906816,0.897782,0.915054,0.911029,0.909037,0.908581,0.900939,0.905038,0.908672,0.911341,0.896906,0.906058,0.911696,0.911152,0.910198,0.908791,0.90308,0.909672,0.902989,0.916162,0.916631,0.902287,0.913163,0.906062,0.906564,0.903481,0.914165,0.914306,0.915553,0.920033,0.898784,0.896028,0.911965,0.912345,0.910866,0.911281,0.910801,0.912076,0.911332,0.903769,0.907308,0.903201,0.905578,0.908588,0.907861,0.911884,0.908409,0.911082,0.897642,0.917665,0.913289,0.910241,0.904214,0.915081,0.90734,0.907021,0.904494,0.905683,0.894776,0.915127,0.910027,0.900445,0.916755,0.916602,0.918142,0.898951,0.901058,0.916664,0.912019,0.917666,0.902139,0.914059,0.906626,0.910425,0.909284,0.906044,0.914944,0.902975,0.897776,0.902266,0.907948,0.896678,0.904316,0.899882,0.910991,0.897709,0.911133,0.909153,0.905908,0.916809,0.904061,0.904215,0.906947,0.90305,0.914601,0.899521,0.913367,0.904058,0.913418,0.902231,0.903652,0.919783,0.916754,0.917261,0.918693,0.916807,0.917617,0.903868,0.911337,0.900625,0.904413,0.911759,0.912759,0.899415,0.908318,0.907272,0.915498,0.906896,0.914253,0.910133,0.915658,0.910336,0.898551,0.912603,0.901309,0.913286,0.911588,0.910148,0.911433,0.908848,0.920884,0.911821,0.915809,0.903946,0.916228,0.90132,0.910536,0.91888,0.910179,0.914133,0.91237,0.907946,0.912787,0.907127,0.915693,0.911475,0.908949,0.909495,0.906813,0.914878,0.917716,0.914912,0.920351,0.909695,0.900612,0.91432,0.909736,0.90806,0.929013,0.904159,0.9107,0.901428,0.909238,0.91775,0.908531,0.899182,0.903666,0.897016,0.910904,0.911039,0.919667,0.909703,0.914941,0.909541,0.91147,0.918164,0.906986,0.9018,0.899277,0.899115,0.89878,0.918353,0.915776,0.905583,0.922606,0.901162,0.915181,0.907731,0.913624,0.917349,0.90352,0.914483,0.912632,0.909292,0.912898,0.901426,0.908807,0.905944,0.908278,0.906871,0.916779,0.91156,0.909029,0.917535,0.910276,0.914631,0.899925,0.928061,0.9101,0.912419,0.897584,0.909987,0.902462,0.904788,0.915148,0.916754,0.899599,0.916928,0.919374,0.908647,0.916298,0.906352,0.911065,0.901481,0.91934,0.904966,0.910492,0.924031,0.916228,0.916198,0.914386,0.916774,0.912494,0.922475,0.908271,0.916337,0.91914,0.905638,0.915936,0.90785,0.911099,0.908703,0.904001,0.906836,0.919949,0.899243,0.914289,0.911651,0.914646,0.918438,0.920489,0.900187,0.916415,0.923094,0.922475,0.917223,0.910603,0.910175,0.910339,0.912229,0.912396,0.913051,0.902554,0.906477,0.904612,0.914727,0.906081,0.920785,0.907353,0.914101,0.909428,0.914218,0.917073,0.915218,0.922454,0.920401,0.91762,0.917709,0.911754,0.919266,0.906119,0.922269,0.901498,0.909338,0.92566,0.917683,0.906015,0.927251,0.904056,0.902139,0.904999,0.91051,0.909604,0.910727,0.92658,0.905436,0.922214,0.917077,0.915534,0.912311,0.915432,0.917734,0.906627,0.924765,0.922271,0.918062,0.906545,0.909851,0.919083,0.920071,0.918671,0.921548,0.902234,0.923055,0.918413,0.917783,0.919519,0.912511,0.916256,0.925098,0.914953,0.904086,0.904796,0.914844,0.921733,0.908297,0.898666,0.919519,0.918922,0.911392,0.935088,0.917576,0.937907,0.910275,0.937432,0.913163,0.897417,0.903108,0.909549,0.916455,0.905754,0.911348,0.904792,0.916862,0.912202,0.909423,0.922972,0.902423,0.899824,0.923803,0.913255,0.916276,0.920711,0.90422,0.917524,0.923168,0.897152,0.899528,0.911558,0.919122,0.916202,0.914702,0.920411,0.922555,0.924402,0.906975,0.89568,0.918735,0.920235,0.919483,0.915957,0.922737,0.920451,0.917536,0.926942,0.914073,0.914422,0.913316,0.925321,0.912399,0.915349,0.913806,0.913188,0.911069,0.911227,0.924204,0.900288,0.917557,0.917815,0.920288,0.922044,0.919506,0.919419,0.922501,0.911473,0.908513,0.922682,0.927363,0.913544,0.910168,0.911129,0.931192,0.908197,0.910455,0.924058,0.915161,0.914463,0.921719,0.93571,0.920957,0.914734,0.914551,0.90956,0.929582,0.931049,0.916219,0.93148,0.91187,0.923216,0.921253,0.916623,0.922944,0.923064,0.924822,0.910107,0.910382,0.91239,0.926386,0.922482,0.92692,0.930934,0.908555,0.927242,0.922243,0.924874,0.926525,0.909745,0.923409,0.90836,0.916005,0.914104,0.929859,0.920641,0.916955,0.91406,0.912943,0.913603,0.908471,0.917207,0.918401,0.91017,0.911259,0.908599,0.915506,0.910236,0.917515,0.912674,0.925815,0.913245,0.905546,0.921893,0.917157,0.914287,0.926641,0.926917,0.920009,0.916048,0.918889,0.928004,0.925814,0.916323,0.922927,0.913028,0.919408,0.92317,0.916719,0.913913,0.900938,0.901063,0.921127,0.912983,0.917489,0.908702,0.925071,0.911302,0.911727,0.92292,0.899281,0.915861,0.910317,0.915052,0.90566,0.901983,0.907035,0.906636,0.914162,0.92092,0.916815,0.91068,0.911626,0.912674,0.920179,0.909255,0.920505,0.909369,0.905233,0.91972,0.917443,0.917005,0.911238,0.9051,0.918436,0.919148,0.912339,0.926472,0.926476,0.913143,0.913205,0.916989,0.912491,0.924791,0.919428,0.920146,0.916948,0.926537,0.921105,0.920047,0.911812,0.913233,0.920635,0.910159,0.906522,0.927547,0.917605,0.901453,0.903196,0.932304,0.917133,0.909308,0.900055,0.921129,0.909636,0.928906,0.915604,0.900972,0.920366,0.934311,0.921469,0.927517,0.897624,0.920831,0.90514,0.934416,0.911055,0.901375,0.915234,0.902424,0.907795,0.925435,0.91504,0.906514,0.904931,0.92351,0.911616,0.924888,0.931836,0.912749,0.922309,0.899255,0.916603,0.922682,0.922579,0.919779,0.920899,0.923681,0.924627,0.922064,0.907936,0.930473,0.901048,0.912997,0.934267,0.929266,0.910224,0.919573,0.916921,0.935385,0.923609,0.92353,0.934073,0.930632,0.906933,0.924989,0.917719,0.931931,0.92316,0.907326,0.918444,0.913476,0.925611,0.911965,0.925829,0.919585,0.914175,0.910233,0.909321,0.913567,0.917342,0.916965,0.919195,0.915539,0.924486,0.926669,0.933356,0.920616,0.920324,0.931437,0.929472,0.93609,0.926205,0.914294,0.936477,0.902993,0.927388,0.917293,0.941747,0.909939,0.914275,0.92317,0.929767,0.910802,0.926829,0.926358,0.914049,0.931667,0.929887,0.919773,0.901848,0.942363,0.923177,0.912794,0.915892,0.911351,0.911291,0.923698,0.925993,0.908174,0.923458,0.91884,0.908103,0.926322,0.928414,0.927861,0.935158,0.917919,0.920253,0.932217,0.928232,0.930745,0.917746,0.919436,0.908537,0.917339,0.899534,0.919773,0.914172,0.915676,0.922485,0.923342,0.92485,0.920172,0.923132,0.907968,0.910692,0.923134,0.911346,0.9157,0.913575,0.92771,0.912848,0.911185]
search_values = [0.733742,1.15508,1.51554,1.66029,1.75902,1.85808,0.733659,0.726267,0.723956,0.723834,0.72286,0.926548,1.35317,1.54467,1.64926,1.73707,1.83387,0.596585,0.67008,0.67849,0.688319,0.673773,0.698937,0.709067,0.707913,0.68181,0.686202,0.777756,1.22654,1.50689,1.64931,1.7565,1.85688,0.727353,0.694324,0.657438,0.665335,0.699577,0.708175,0.722406,0.69219,1.00952,1.37954,1.53911,1.65794,1.7547,1.85327,0.708722,0.702187,0.709237,0.748224,1.24163,1.52431,1.65403,1.74776,1.84564,0.680876,0.607027,0.640421,0.659356,0.691377,0.700893,0.708741,0.712441,0.710983,0.702721,0.879971,1.32042,1.53605,1.65658,1.74545,1.84295,0.60375,0.970602,1.22224,1.40901,1.54346,1.65054,1.74567,1.84332,0.608879,0.570325,0.574724,0.631755,0.670883,0.665304,0.690869,0.708072,0.680922,0.707329,0.700768,0.700501,0.954153,1.33061,1.53204,1.64009,1.73026,1.82651,0.426453,0.476615,0.54881,0.614828,0.859988,1.03139,1.28335,1.41939,1.55304,1.65765,1.7537,1.85063,0.663403,0.973412,1.32644,1.53498,1.66046,1.75745,1.85632,1.49651,1.65479,1.75399,1.85288,0.601858,0.55584,0.543723,0.525642,0.588129,0.608465,0.646771,0.666963,0.600675,0.637522,0.681066,0.677591,0.677225,0.669908,0.674184,0.651289,0.608458,0.600755,0.704245,1.1263,1.38933,1.55309,1.65647,1.74899,1.84742,1.63916,1.74897,1.85041,0.702767,1.10777,1.42198,1.55348,1.66623,1.76059,1.85875,0.703067,0.606411,0.517087,0.926026,1.16392,1.34763,1.45202,1.54705,1.64092,1.73689,1.83355,0.679977,0.641752,0.646204,0.673338,0.655426,0.589035,0.566052,0.588078,0.60846,0.753458,0.974163,1.22662,1.43113,1.55574,1.6528,1.74976,1.84554,1.65889,1.76747,1.86749,0.849678,1.27051,1.5287,1.65436,1.75055,1.8483,0.570251,0.525521,0.467049,0.507209,0.550658,0.536809,0.604851,0.632599,0.657185,0.690148,0.668884,0.64965,0.626189,0.408927,0.510459,0.511325,0.562998,0.78712,1.02399,1.18542,1.39201,1.54074,1.64881,1.7436,1.84075,1.21342,0.168163,0.244167,0.287377,0.327932,0.377141,0.422963,0.47035,0.504559,0.531181,0.559978,0.590189,0.618416,0.631405,0.636745,0.557558,0.595014,0.58531,0.60974,0.568198,0.579871,0.585977,0.833754,0.59045,0.838959,1.17312,1.40555,1.55208,1.66102,1.75535,1.85361,1.23331,1.49026,1.61617,1.71076,1.80814,0.496767,0.563753,0.607968,0.67301,0.694545,0.946348,1.34239,1.52899,1.63954,1.73351,1.83194,0.466051,0.501509,0.431168,0.443111,0.466459,0.451449,0.446905,0.469908,0.494028,0.52003,0.527597,0.551038,0.55281,0.579977,0.581733,0.820901,1.17854,1.39995,1.55757,1.66634,1.76351,1.86254,1.77095,1.88215,0.712363,1.04696,1.33211,1.44197,1.60717,1.78734,1.10592,1.40792,1.54944,1.65855,1.75678,1.85529,1.43268,1.57429,1.7351,1.83287,0.327257,0.449715,0.706354,0.860047,1.0714,1.24873,1.39343,1.48585,1.57542,1.75489,1.85255,0.563294,0.534655,0.51599,0.520335,0.566538,0.67255,0.955442,1.18842,1.42297,1.56799,1.66746,1.75941,1.85736,1.61974,1.75674,1.86109,0.586653,0.534961,0.50414,0.466854,0.461578,0.461997,0.445929,0.47175,0.474888,0.508816,0.516181,0.49919,0.500874,0.470647,0.394132,0.440231,0.451123,0.520353,0.51503,0.553534,0.540961,0.602118,0.809374,1.00715,1.24092,1.43882,1.56813,1.67087,1.76763,1.86411,0.609438,0.548019,0.586295,0.629957,0.667782,0.642623,0.64921,0.601053,0.600769,0.614843,0.941923,1.21649,1.41127,1.54669,1.63528,1.7266,1.82224,0.97532,1.24701,1.38423,1.56134,1.6571,1.74854,1.84569,0.520184,0.653142,0.563571,0.64278,0.906976,0.602078,0.927948,1.06028,1.23958,1.52341,1.66338,1.76849,1.86792,1.5508,1.66541,1.85444,0.620718,0.60688,0.613665,0.612309,0.57516,0.588207,0.418622,0.41355,0.416282,0.468019,0.492169,0.516083,0.520889,0.508562,0.551569,0.47267,0.553,0.89181,1.07307,1.20525,1.34647,1.48109,1.58818,1.68452,1.7805,1.87899,0.487892,0.480636,0.646233,0.762666,0.684535,0.872962,0.789412,0.777823,0.969899,1.13286,1.26274,1.29524,1.5947,0.568677,0.523911,0.508561,0.572257,0.585315,0.616549,0.638259,0.617363,0.502787,0.519191,0.424834,0.442864,0.486363,0.504195,0.538398,0.550164,0.598012,0.621677,0.647447,1.03481,1.37471,1.55634,1.66037,1.75844,1.85602,0.289999,0.214604,0.205349,0.253612,0.285614,0.350003,0.512763,0.659395,0.774681,0.907627,1.04638,1.2055,1.3038,1.39851,1.48687,1.65538,1.74899,1.84462,0.42398,0.437827,0.498539,0.495128,0.5322,0.793065,1.0125,1.21663,1.43245,1.5612,1.65708,1.74927,1.84629,0.813766,1.16473,1.40044,1.57764,1.67952,1.78116,1.87959,0.336677,0.366386,0.398489,0.417813,0.424093,0.422553,0.49709,0.524877,0.510312,0.496427,0.51753,0.44453,0.354782,0.595809,0.777556,0.902633,1.04692,1.16981,1.33118,1.42569,1.66872,1.75189,1.84954,0.584416,0.6619,0.611529,0.579307,0.55959,0.548415,0.550158,0.687871,0.916654,0.535783,0.392736,0.407995,0.648009,0.966744,1.25965,1.39362,1.49393,1.58433,1.67891,1.77301,1.87042,0.505052,0.756703,1.00253,1.18145,1.43654,1.55291,1.65445,1.75035,1.84691,0.522471,0.445598,0.412648,0.355257,0.257122,0.234771,0.2881,0.414123,0.613289,0.789758,0.928918,0.480983,0.817737,1.10867,1.2959,1.46407,1.57495,1.6902,1.79466,1.89421,1.19626,1.42165,1.55609,1.65641,1.7529,1.85122,0.501661,0.342096,0.284163,0.354597,0.377829,0.423533,0.462977,0.381533,0.34485,0.306629,0.292805,0.318299,0.30203,0.335025,0.278173,0.276566,0.299095,0.490288,0.669423,0.815336,0.936795,1.0612,1.17492,1.33398,1.4493,1.55606,1.66412,1.76466,1.86956,1.97159,0.591603,0.521278,0.487992,0.411901,0.452823,0.443813,0.438756,0.500518,0.492629,0.410352,0.380461,0.375623,0.401851,0.680748,0.972987,1.2058,1.36996,1.47014,1.46194,1.47216,1.54123,1.62614,1.51855,1.65257,1.74538,1.84513,0.287269,0.664148,0.860693,1.0289,1.2022,1.32204,1.42259,1.51629,1.59612,1.65568,1.70191,1.79469,0.442067,0.660196,0.807376,0.916032,1.49597,1.60283,1.71142,1.81796,1.91931,0.533633,0.508673,0.428747,0.476928,0.449369,0.396335,0.363586,0.190139,0.525032,0.186086,0.266024,0.338567,0.596597,0.762904,0.923163,1.08068,1.19684,1.34027,1.48032,1.59202,1.69834,1.79612,1.89508,0.286735,-0.506961,-1.30356,-3.75008,-5.2468,-6.3939,-7.3747,-8.18508,-9.1783,0]
network_policy = [[0.300339,0.330088,-1,0.369573],[0.301036,-1,0.313367,0.385597],[0.291977,0.334033,-1,0.37399],[0.385611,0.313353,-1,0.301035],[0.385594,0.30104,-1,0.313366],[-1,-1,-1,-1],[0.3856,0.301038,-1,0.313363],[0.330089,0.300339,0.369573,-1],[-1,0.369573,0.300336,0.330091],[0.373992,-1,0.334037,0.291971],[0.291881,0.374009,-1,0.33411],[0.369572,-1,0.330084,0.300344],[0.300336,0.330091,-1,0.369573],[0.359203,0.326823,-1,0.313975],[-1,0.489947,-1,0.510053],[-1,-1,0.448319,0.551681],[-1,-1,-1,-1],[-1,-1,0.561594,0.438406],[-1,0.56159,0.43841,-1],[-1,0.438416,0.561584,-1],[0.373989,0.291968,0.334043,-1],[0.369572,0.300344,0.330084,-1],[0.330101,0.300324,0.369575,-1],[-1,0.369572,0.300346,0.330082],[0.326823,0.359219,0.313958,-1],[0.438449,0.561551,-1,-1],[0.301042,0.385595,0.313363,-1],[0.313368,0.385601,0.301031,-1],[-1,0.330081,0.300347,0.369571],[-1,0.313369,0.385595,0.301036],[-1,0.373992,0.291958,0.334051],[-1,0.334053,0.29195,0.373997],[-1,-1,-1,-1],[-1,0.330104,0.300321,0.369575],[0.330084,0.300344,0.369572,-1],[-1,0.313981,0.359184,0.326834],[-1,-1,0.523568,0.476432],[0.330091,-1,0.369573,0.300336],[0.301044,-1,0.313372,0.385583],[0.330108,-1,0.369576,0.300317],[-1,0.326793,0.3593,0.313907],[0.313937,-1,0.326816,0.359246],[0.448328,-1,-1,0.551672],[0.334082,-1,0.374004,0.291914],[0.29191,0.374006,-1,0.334083],[0.373989,-1,0.33405,0.291961],[-1,-1,-1,-1],[0.385607,0.313359,-1,0.301035],[0.53361,0.46639,-1,-1],[0.313341,0.385629,0.30103,-1],[0.300319,0.369575,-1,0.330106],[0.37399,0.291983,0.334027,-1],[0.38559,0.313369,-1,0.301041],[0.300296,0.330125,-1,0.369578],[0.385618,0.313353,-1,0.301029],[-1,-1,-1,-1],[-1,0.489937,-1,0.510063],[-1,-1,0.448323,0.551677],[-1,-1,0.533606,0.466394],[-1,-1,0.438416,0.561584],[-1,0.326801,0.359257,0.313942],[0.373989,0.291992,0.334019,-1],[0.33405,0.291958,0.373992,-1],[0.373988,0.291977,0.334035,-1],[-1,0.369574,0.300332,0.330095],[0.334037,0.291971,0.373992,-1],[-1,0.301036,0.385603,0.313361],[-1,0.373989,0.291985,0.334026],[-1,0.301036,0.385612,0.313352],[-1,0.330129,0.300292,0.369579],[-1,0.489974,-1,0.510026],[-1,-1,-1,-1],[0.523594,-1,-1,0.476406],[0.523583,-1,-1,0.476417],[0.561712,-1,-1,0.438288],[0.466402,-1,-1,0.533598],[0.385591,0.31337,-1,0.301039],[0.313362,0.385613,0.301025,-1],[0.334051,0.291955,0.373995,-1],[-1,-1,-1,-1],[-1,0.330125,0.300297,0.369578],[-1,0.448343,0.551657,-1],[-1,0.301042,0.385593,0.313365],[0.301031,-1,0.313367,0.385603],[0.523591,-1,-1,0.476409],[0.373996,-1,0.334042,0.291962],[0.300338,0.330089,-1,0.369573],[0.359207,0.326828,-1,0.313965],[0.291944,0.334059,-1,0.373997],[0.385648,0.301009,-1,0.313343],[0.291992,0.373988,-1,0.334021],[0.330106,-1,0.369575,0.300319],[0.334033,-1,0.373993,0.291974],[0.330101,-1,0.369575,0.300324],[0.369573,-1,0.330091,0.300336],[0.313974,-1,0.326825,0.359201],[0.528226,-1,0.471774,-1],[-1,-1,-1,-1],[0.523685,0.476315,-1,-1],[-1,0.476311,0.523689,-1],[0.551674,0.448326,-1,-1],[-1,0.561659,0.438341,-1],[-1,0.523598,0.476402,-1],[-1,0.334052,0.291953,0.373995],[-1,-1,0.476427,0.523573],[-1,0.326832,0.359201,0.313966],[-1,0.330089,0.300338,0.369573],[-1,0.313353,0.385616,0.30103],[0.33009,-1,0.369573,0.300338],[-1,-1,-1,-1],[-1,0.301021,0.385615,0.313363],[-1,0.476416,0.523584,-1],[0.326816,0.35922,0.313965,-1],[0.373992,0.291979,0.334029,-1],[0.313905,0.359298,0.326796,-1],[0.313957,0.359217,0.326826,-1],[-1,-1,-1,-1],[0.313974,0.359189,0.326836,-1],[0.313858,0.359386,0.326756,-1],[0.510057,-1,0.489943,-1],[-1,-1,-1,-1],[0.448279,-1,-1,0.551721],[0.476263,-1,-1,0.523737],[0.533577,-1,-1,0.466423],[0.533587,-1,-1,0.466413],[0.326808,-1,0.313961,0.359231],[0.313357,-1,0.301041,0.385603],[0.326829,-1,0.31397,0.3592],[0.334022,-1,0.373993,0.291985],[0.385645,0.301009,-1,0.313346],[0.374004,-1,0.334089,0.291907],[-1,-1,0.476416,0.523584],[-1,0.326766,0.35936,0.313875],[0.330096,-1,0.369574,0.300331],[0.31396,-1,0.326815,0.359225],[-1,0.374028,0.291811,0.334162],[0.313964,-1,0.326831,0.359205],[-1,0.330095,0.300331,0.369574],[-1,0.523588,0.476412,-1],[-1,0.313823,0.359437,0.326741],[-1,0.334031,0.291976,0.373993],[0.313299,0.38582,0.300881,-1],[-1,0.369591,0.300207,0.330202],[0.301029,0.385607,0.313364,-1],[0.313298,0.385821,0.300881,-1],[-1,-1,-1,-1],[0.313302,0.385809,0.300889,-1],[0.300345,0.330083,-1,0.369572],[-1,-1,-1,-1],[0.523713,-1,-1,0.476287],[0.300137,0.3696,-1,0.330263],[0.533692,0.466308,-1,-1],[0.359447,0.313813,-1,0.32674],[0.385782,0.313306,-1,0.300912],[0.300362,0.330068,-1,0.369569],[-1,-1,-1,-1],[0.369605,-1,0.330294,0.300101],[-1,-1,0.523859,0.476141],[0.301041,-1,0.313372,0.385587],[0.533685,-1,-1,0.466315],[0.291929,0.374003,-1,0.334068],[0.561564,0.438436,-1,-1],[0.523964,0.476036,-1,-1],[0.301024,0.385613,0.313363,-1],[0.373991,0.291986,0.334024,-1],[0.301034,0.385607,0.313359,-1],[-1,-1,-1,-1],[0.326777,0.35935,0.313872,-1],[-1,0.369578,0.300298,0.330124],[-1,-1,0.476413,0.523587],[-1,0.373998,0.291955,0.334048],[-1,0.300941,0.385738,0.313321],[0.369577,0.30031,0.330113,-1],[0.300901,0.385802,0.313297,-1],[-1,0.448341,0.551659,-1],[-1,0.33404,0.291964,0.373996],[-1,-1,0.561575,0.438425],[-1,-1,0.551746,0.448254],[-1,0.330154,0.300263,0.369583],[-1,0.313962,0.359217,0.326821],[-1,0.313374,0.38558,0.301046],[-1,0.528139,-1,0.471861],[0.448322,-1,-1,0.551678],[-1,-1,-1,-1],[0.466157,-1,-1,0.533843],[0.38573,0.313327,-1,0.300943],[-1,-1,-1,-1],[0.300285,0.330135,-1,0.36958],[0.330083,-1,0.369572,0.300345],[0.326805,-1,0.31396,0.359235],[0.326815,-1,0.313972,0.359212],[0.510033,-1,0.489967,-1],[-1,-1,-1,-1],[0.523656,0.476344,-1,-1],[0.551803,0.448197,-1,-1],[0.359175,0.313983,-1,0.326841],[0.466391,0.533609,-1,-1],[0.448307,0.551693,-1,-1],[0.385647,0.313353,-1,0.301],[0.330155,0.300261,0.369583,-1],[0.300961,0.385704,0.313335,-1],[0.313367,0.385588,0.301045,-1],[0.330119,0.300303,0.369577,-1],[0.385587,0.301041,-1,0.313371],[0.300358,0.330072,-1,0.36957],[0.334038,0.291967,0.373995,-1],[-1,0.471793,-1,0.528207],[-1,0.448229,0.551771,-1],[-1,0.438414,0.561586,-1],[-1,0.369599,0.300145,0.330256],[-1,0.438176,0.561824,-1],[-1,0.466446,0.533554,-1],[-1,0.326756,0.359397,0.313847],[-1,0.31398,0.35918,0.326839],[-1,0.300897,0.385797,0.313306],[-1,0.300867,0.385841,0.313292],[-1,0.369572,0.300344,0.330084],[-1,-1,-1,-1],[-1,0.47183,-1,0.52817],[0.448328,0.551672,-1,-1],[0.448263,-1,-1,0.551737],[0.533571,0.466429,-1,-1],[0.438408,-1,-1,0.561592],[0.476328,0.523672,-1,-1],[0.551677,-1,-1,0.448323],[0.476249,0.523751,-1,-1],[0.561626,-1,-1,0.438374],[0.448322,-1,-1,0.551678],[0.330095,-1,0.369574,0.300331],[-1,-1,0.466375,0.533625],[0.326822,-1,0.313959,0.359219],[0.466429,-1,-1,0.533571],[0.326784,-1,0.313885,0.359331],[0.291883,0.334111,-1,0.374006],[0.334232,-1,0.374047,0.291722],[-1,-1,0.448212,0.551788],[0.31337,-1,0.301036,0.385593],[0.533881,-1,-1,0.466119],[0.334261,-1,0.374053,0.291686],[-1,-1,0.438427,0.561573],[-1,0.326839,0.359183,0.313979],[0.334209,-1,0.374041,0.29175],[-1,0.313276,0.38589,0.300834],[-1,0.32682,0.359216,0.313964],[-1,0.326826,0.359196,0.313978],[0.334023,0.291988,0.373989,-1],[-1,0.36957,0.300356,0.330074],[0.374045,0.291728,0.334226,-1],[-1,-1,-1,-1],[-1,0.313182,0.386208,0.300609],[0.313324,0.38574,0.300936,-1],[0.533573,0.466427,-1,-1],[0.291984,0.373991,-1,0.334025],[-1,-1,-1,-1],[0.385728,0.313314,-1,0.300958],[0.523592,0.476408,-1,-1],[0.313327,0.385729,0.300944,-1],[0.330078,0.300351,0.369571,-1],[0.561655,0.438345,-1,-1],[0.300932,0.385763,0.313305,-1],[0.374019,0.291852,0.334129,-1],[0.300294,0.369579,-1,0.330127],[0.374009,0.291891,0.3341,-1],[0.359211,0.31397,-1,0.326819],[-1,-1,-1,-1],[0.38584,0.300877,-1,0.313283],[-1,0.48992,-1,0.51008],[-1,-1,0.533603,0.466397],[-1,-1,0.466418,0.533582],[-1,-1,0.476103,0.523897],[-1,-1,0.466318,0.533682],[-1,0.373991,0.29198,0.334028],[-1,0.300913,0.385794,0.313293],[-1,0.489962,-1,0.510038],[0.551656,-1,-1,0.448344],[0.46622,-1,-1,0.53378],[0.369576,-1,0.330108,0.300316],[-1,-1,0.465968,0.534032],[-1,0.301023,0.385646,0.313331],[-1,0.33411,0.291876,0.374013],[0.374005,0.291919,0.334077,-1],[-1,0.374063,0.291643,0.334294],[0.330099,0.300326,0.369574,-1],[0.30104,0.385587,0.313372,-1],[0.330133,0.300288,0.36958,-1],[-1,0.369571,0.300353,0.330076],[-1,-1,-1,-1],[0.313296,0.385826,0.300878,-1],[-1,-1,-1,-1],[0.533708,0.466292,-1,-1],[0.300054,0.369611,-1,0.330335],[0.533697,-1,-1,0.466303],[0.561579,-1,-1,0.438421],[0.359316,0.313907,-1,0.326777],[-1,-1,-1,-1],[-1,0.523734,0.476266,-1],[0.438363,0.561637,-1,-1],[0.438366,0.561634,-1,-1],[0.313202,0.386099,0.300699,-1],[0.32668,0.359586,0.313735,-1],[-1,-1,-1,-1],[0.359424,0.313837,-1,0.32674],[0.510113,-1,0.489887,-1],[-1,-1,0.551774,0.448226],[-1,-1,-1,-1],[-1,-1,0.551782,0.448218],[-1,-1,0.448175,0.551825],[0.523859,-1,-1,0.476141],[0.466169,-1,-1,0.533831],[0.466249,-1,-1,0.533751],[0.300197,0.330211,-1,0.369592],[-1,0.528103,-1,0.471897],[-1,-1,0.448152,0.551848],[0.300934,-1,0.313306,0.38576],[0.334076,-1,0.374005,0.291919],[-1,-1,-1,-1],[0.528161,-1,0.471839,-1],[0.561628,0.438372,-1,-1],[0.523651,0.476349,-1,-1],[0.471774,-1,0.528226,-1],[0.476276,0.523724,-1,-1],[0.466365,0.533635,-1,-1],[0.300203,0.369591,-1,0.330206],[0.369583,0.300263,0.330154,-1],[0.330081,0.300348,0.369571,-1],[0.326841,0.359175,0.313984,-1],[0.31335,0.385633,0.301016,-1],[0.326843,0.359172,0.313985,-1],[-1,-1,-1,-1],[0.31396,0.35922,0.32682,-1],[-1,0.334022,0.291988,0.37399],[-1,-1,-1,-1],[-1,-1,0.47595,0.52405],[-1,-1,0.561568,0.438432],[-1,-1,0.56156,0.43844],[0.465731,-1,-1,0.534269],[0.561704,-1,-1,0.438296],[0.448316,-1,-1,0.551684],[0.330202,-1,0.36959,0.300208],[-1,-1,0.52372,0.47628],[-1,-1,0.533863,0.466137],[-1,0.471804,-1,0.528196],[0.465978,-1,-1,0.534022],[0.56168,-1,-1,0.43832],[0.466273,-1,-1,0.533727],[0.476107,-1,-1,0.523893],[0.291874,0.374013,-1,0.334113],[0.561634,0.438366,-1,-1],[0.533881,0.466119,-1,-1],[0.448211,-1,-1,0.551789],[0.438416,-1,-1,0.561584],[0.551856,-1,-1,0.448144],[0.448317,-1,-1,0.551683],[0.359377,0.313856,-1,0.326767],[0.300274,0.330144,-1,0.369581],[0.385665,0.313347,-1,0.300988],[0.300273,0.330146,-1,0.369582],[0.300169,0.330235,-1,0.369596],[0.291918,0.374005,-1,0.334077],[-1,0.528126,-1,0.471874],[-1,0.561691,0.438309,-1],[-1,-1,-1,-1],[-1,0.476105,0.523895,-1],[-1,0.43813,0.56187,-1],[-1,0.326689,0.359555,0.313755],[-1,0.374013,0.291872,0.334115],[-1,0.300789,0.385955,0.313256],[-1,0.369581,0.300275,0.330144],[0.313332,0.385707,0.300962,-1],[0.448265,0.551735,-1,-1],[0.369599,0.300147,0.330254,-1],[-1,0.533708,0.466292,-1],[0.313775,0.359504,0.326721,-1],[-1,0.300833,0.385897,0.31327],[-1,0.313364,0.385598,0.301038],[0.489881,-1,0.510119,-1],[-1,-1,0.552248,0.447752],[-1,-1,0.523581,0.476419],[-1,-1,-1,-1],[0.561773,-1,-1,0.438227],[0.465948,-1,-1,0.534052],[0.561696,-1,-1,0.438304],[0.561844,-1,-1,0.438156],[0.448155,-1,-1,0.551845],[0.523805,-1,-1,0.476195],[-1,-1,-1,-1],[0.438279,-1,-1,0.561721],[0.56157,0.43843,-1,-1],[0.523595,0.476405,-1,-1],[0.533875,0.466125,-1,-1],[0.523594,0.476406,-1,-1],[0.561577,0.438423,-1,-1],[0.300942,0.385729,0.313328,-1],[0.313348,0.385624,0.301028,-1],[-1,0.326755,0.35941,0.313835],[0.313339,0.385637,0.301024,-1],[-1,0.374003,0.291892,0.334105],[0.300796,0.385944,0.31326,-1],[-1,-1,-1,-1],[0.32669,0.359572,0.313738,-1],[-1,0.489966,-1,0.510034],[-1,-1,-1,-1],[0.55174,-1,-1,0.44826],[0.385604,0.301034,-1,0.313362],[0.561585,0.438415,-1,-1],[0.359189,0.326837,-1,0.313974],[0.385718,0.313329,-1,0.300953],[0.369597,0.300163,0.33024,-1],[-1,0.528157,-1,0.471843],[-1,0.466361,0.533639,-1],[-1,0.523581,0.476419,-1],[0.369576,0.300313,0.330111,-1],[-1,0.300927,0.385754,0.313319],[-1,0.313361,0.385614,0.301024],[-1,0.32677,0.359354,0.313876],[0.369576,0.300312,0.330112,-1],[-1,0.313372,0.385587,0.301041],[-1,0.330207,0.300201,0.369591],[0.528134,-1,0.471866,-1],[-1,-1,0.52369,0.47631],[-1,-1,0.476024,0.523976],[0.326811,-1,0.313945,0.359244],[0.330346,-1,0.369613,0.300041],[-1,-1,0.552303,0.447697],[-1,-1,0.533854,0.466146],[-1,-1,0.561584,0.438416],[-1,0.369667,0.299641,0.330691],[-1,-1,-1,-1],[0.313421,-1,0.326525,0.360054],[0.43844,-1,-1,0.56156],[0.30105,-1,0.313375,0.385575],[0.447781,-1,-1,0.552219],[0.291918,0.334077,-1,0.374005],[0.489574,-1,0.510426,-1],[0.56194,-1,-1,0.43806],[0.289953,0.374443,-1,0.335604],[0.533695,-1,-1,0.466305],[0.448246,-1,-1,0.551754],[0.334051,-1,0.373998,0.291951],[0.471944,-1,0.528056,-1],[-1,-1,-1,-1],[-1,0.552531,0.447469,-1],[0.489036,-1,0.510964,-1],[-1,0.466302,0.533698,-1],[-1,0.552383,0.447617,-1],[-1,0.330082,0.300347,0.369572],[-1,0.330064,0.300367,0.369569],[-1,0.326661,0.359666,0.313673],[0.313341,0.385688,0.300971,-1],[-1,0.369617,0.300012,0.330371],[0.373996,0.291956,0.334047,-1],[0.523606,0.476394,-1,-1],[0.510101,-1,0.489899,-1],[-1,-1,0.448249,0.551751],[-1,-1,0.438209,0.561791],[-1,-1,0.466158,0.533842],[0.330156,-1,0.369583,0.300261],[0.330242,-1,0.369597,0.300161],[-1,-1,0.465806,0.534194],[0.313328,-1,0.300948,0.385724],[0.300881,-1,0.313296,0.385823],[0.374071,-1,0.33432,0.29161],[-1,0.528102,-1,0.471898],[0.369582,-1,0.330151,0.300266],[0.51022,-1,0.48978,-1],[-1,-1,-1,-1],[0.448082,0.551918,-1,-1],[0.551739,0.448261,-1,-1],[0.533804,0.466196,-1,-1],[0.300916,0.385789,0.313295,-1],[0.47605,0.52395,-1,-1],[0.523753,-1,-1,0.476247],[-1,-1,0.438067,0.561933],[0.448135,-1,-1,0.551865],[0.465969,-1,-1,0.534031],[0.385845,0.313285,-1,0.30087],[0.523569,0.476431,-1,-1],[-1,0.471923,-1,0.528077],[-1,0.438276,0.561724,-1],[-1,0.47598,0.52402,-1],[-1,0.533959,0.466041,-1],[-1,-1,0.561814,0.438186],[-1,-1,0.46592,0.53408],[-1,-1,-1,-1],[0.313945,-1,0.326815,0.35924],[-1,0.31333,0.385716,0.300953],[-1,-1,0.448286,0.551714],[-1,-1,0.5237,0.4763],[0.374235,-1,0.334919,0.290846],[0.330083,-1,0.369572,0.300346],[-1,-1,0.551671,0.448329],[0.334119,-1,0.374016,0.291865],[0.374079,-1,0.334373,0.291549],[-1,-1,0.534024,0.465976],[-1,-1,0.523678,0.476322],[0.301045,-1,0.313359,0.385595],[-1,-1,-1,-1],[-1,-1,0.534699,0.465301],[-1,0.313353,0.385646,0.301001],[0.528164,-1,0.471836,-1],[0.533588,0.466412,-1,-1],[0.551896,0.448104,-1,-1],[0.448258,0.551742,-1,-1],[-1,-1,-1,-1],[0.301,0.385648,0.313353,-1],[-1,0.466183,0.533817,-1],[0.551972,0.448028,-1,-1],[0.55279,0.44721,-1,-1],[0.466316,0.533684,-1,-1],[-1,0.528167,-1,0.471833],[0.43819,0.56181,-1,-1],[0.561656,0.438344,-1,-1],[0.300092,0.369606,-1,0.330302],[0.291731,0.374043,-1,0.334226],[0.313279,0.385857,0.300864,-1],[0.300895,0.385803,0.313302,-1],[-1,0.489911,-1,0.510089],[-1,0.533978,0.466022,-1],[-1,0.523755,0.476245,-1],[-1,0.551857,0.448143,-1],[-1,-1,0.561756,0.438244],[-1,-1,0.523779,0.476221],[0.374063,-1,0.334294,0.291642],[-1,0.471837,-1,0.528163],[-1,-1,0.551728,0.448272],[-1,-1,0.534634,0.465366],[-1,-1,-1,-1],[0.313872,-1,0.326766,0.359362],[0.330089,-1,0.369573,0.300338],[-1,-1,0.523799,0.476201],[0.330122,-1,0.369578,0.3003],[0.551742,-1,-1,0.448258],[0.489929,-1,0.510071,-1],[-1,-1,0.4382,0.5618],[-1,-1,0.448136,0.551864],[-1,-1,0.523903,0.476097],[-1,0.374073,0.291597,0.33433],[-1,0.334179,0.291792,0.374029],[0.313283,-1,0.300852,0.385865],[0.369603,-1,0.330283,0.300114],[-1,0.471922,-1,0.528078],[0.438347,0.561653,-1,-1],[0.5618,0.4382,-1,-1],[0.551932,0.448068,-1,-1],[0.448255,0.551745,-1,-1],[0.466417,0.533583,-1,-1],[0.528105,-1,0.471895,-1],[-1,-1,-1,-1],[0.30028,0.369581,-1,0.33014],[0.489951,-1,0.510049,-1],[-1,0.551772,0.448228,-1],[0.33405,0.291952,0.373998,-1],[-1,0.330121,0.300301,0.369578],[0.330099,0.300326,0.369574,-1],[0.47612,0.52388,-1,-1],[0.466209,0.533791,-1,-1],[-1,-1,-1,-1],[0.465927,-1,-1,0.534073],[0.300064,0.36961,-1,0.330326],[0.448076,-1,-1,0.551924],[0.448155,-1,-1,0.551845],[0.330167,-1,0.369585,0.300248],[0.313797,-1,0.326732,0.35947],[-1,0.489907,-1,0.510093],[-1,-1,0.466187,0.533813],[-1,0.551803,0.448197,-1],[-1,-1,0.561632,0.438368],[-1,-1,0.533699,0.466301],[-1,0.313339,0.385693,0.300968],[0.369605,-1,0.330293,0.300102],[-1,-1,0.466421,0.533579],[-1,-1,0.551654,0.448346],[-1,-1,0.551676,0.448324],[-1,0.301004,0.385641,0.313354],[-1,0.334236,0.291716,0.374047],[-1,0.300939,0.385737,0.313324],[-1,-1,-1,-1],[-1,0.52821,-1,0.47179],[0.533922,-1,-1,0.466078],[0.448131,-1,-1,0.551869],[0.561774,-1,-1,0.438226],[0.465953,-1,-1,0.534047],[-1,-1,-1,-1],[0.313793,-1,0.326728,0.359478],[-1,-1,0.55182,0.44818],[0.330148,-1,0.369582,0.30027],[0.528102,-1,0.471898,-1],[0.4482,0.5518,-1,-1],[0.300306,0.369577,-1,0.330117],[0.359764,0.326623,-1,0.313613],[0.359335,0.313883,-1,0.326782],[0.300054,0.330335,-1,0.369611],[0.326666,0.359648,0.313687,-1],[-1,0.466177,0.533823,-1],[-1,0.438363,0.561637,-1],[0.524135,0.475865,-1,-1],[0.466052,0.533948,-1,-1],[0.360122,0.326497,-1,0.313381],[0.438161,0.561839,-1,-1],[0.533545,0.466455,-1,-1],[0.385707,0.300959,-1,0.313334],[-1,0.471866,-1,0.528134],[-1,0.551881,0.448119,-1],[-1,0.475925,0.524075,-1],[-1,0.44671,0.55329,-1],[-1,0.523932,0.476068,-1],[0.533859,0.466141,-1,-1],[0.534027,0.465973,-1,-1],[0.32671,0.359508,0.313782,-1],[-1,0.44611,0.55389,-1],[-1,0.476124,0.523876,-1],[-1,0.300928,0.385754,0.313318],[-1,-1,-1,-1],[-1,0.313042,0.386708,0.30025],[-1,0.326731,0.359475,0.313794],[0.374023,-1,0.334144,0.291834],[-1,0.51006,-1,0.48994],[0.465853,-1,-1,0.534147],[0.551809,-1,-1,0.448191],[0.31334,-1,0.300983,0.385677],[0.44825,-1,-1,0.55175],[0.523731,-1,-1,0.476269],[0.385841,0.313285,-1,0.300874],[0.326683,-1,0.313741,0.359576],[0.524025,0.475975,-1,-1],[0.466336,0.533664,-1,-1],[-1,0.489895,-1,0.510105],[-1,-1,0.55172,0.44828],[0.33439,-1,0.374088,0.291522],[0.534071,-1,-1,0.465929],[0.471926,-1,0.528074,-1],[0.448104,0.551896,-1,-1],[0.533666,0.466334,-1,-1],[0.523808,0.476192,-1,-1],[-1,-1,-1,-1],[0.448114,0.551886,-1,-1],[0.369611,0.300056,0.330333,-1],[0.330221,0.300185,0.369594,-1],[-1,-1,-1,-1],[-1,0.313152,0.360465,0.326383],[-1,0.561907,0.438093,-1],[0.523572,0.476428,-1,-1],[0.300893,0.385816,0.313291,-1],[0.448195,0.551805,-1,-1],[0.476273,0.523727,-1,-1],[0.528122,-1,0.471878,-1],[0.533555,-1,-1,0.466445],[0.533687,-1,-1,0.466313],[-1,0.4899,-1,0.5101],[-1,0.552074,0.447926,-1],[-1,-1,-1,-1],[-1,0.533628,0.466372,-1],[-1,0.523578,0.476422,-1],[-1,-1,0.438417,0.561583],[-1,-1,0.448344,0.551656],[0.561658,-1,-1,0.438342],[0.533818,-1,-1,0.466182],[0.533801,-1,-1,0.466199],[0.330081,-1,0.369572,0.300347],[-1,-1,-1,-1],[0.36957,-1,0.330075,0.300355],[0.291989,0.373986,-1,0.334025],[0.510082,-1,0.489918,-1],[-1,0.334114,0.29187,0.374015],[-1,-1,0.438301,0.561699],[0.301036,-1,0.313355,0.385609],[-1,-1,0.551736,0.448264],[-1,-1,0.476119,0.523881],[0.334242,-1,0.374048,0.29171],[-1,0.330101,0.300325,0.369575],[-1,0.551855,0.448145,-1],[-1,0.528187,-1,0.471813],[0.44828,0.55172,-1,-1],[0.551751,-1,-1,0.448249],[0.533659,0.466341,-1,-1],[0.551685,0.448315,-1,-1],[0.523743,0.476257,-1,-1],[0.448331,0.551669,-1,-1],[0.448316,0.551684,-1,-1],[0.291973,0.334037,-1,0.37399],[0.291781,0.374033,-1,0.334186],[0.291906,0.374003,-1,0.334091],[-1,-1,-1,-1],[-1,-1,0.476333,0.523667],[-1,-1,0.533969,0.466031],[-1,-1,0.448327,0.551673],[0.466415,-1,-1,0.533585],[0.551805,-1,-1,0.448195],[0.300063,0.330327,-1,0.36961],[0.448134,-1,-1,0.551866],[-1,-1,0.476194,0.523806],[-1,0.438364,0.561636,-1],[0.300339,0.330088,-1,0.369573],]
search_policy = [[0.297125,0.336053,-1,0.366821],[0.893864,-1,0.0458651,0.0602712],[0.996594,0.00158548,-1,0.00182006],[0.999891,5.44596e-05,-1,5.44596e-05],[0.999985,7.36408e-06,-1,7.36408e-06],[-1,-1,-1,-1],[0.372423,0.304424,-1,0.323153],[0.330474,0.308326,0.3612,-1],[-1,0.375102,0.305802,0.319096],[0.374463,-1,0.332502,0.293034],[0.287921,0.373065,-1,0.339014],[0.698247,-1,0.157117,0.144636],[0.984829,0.00729951,-1,0.00787181],[0.999522,0.000270832,-1,0.000207356],[-1,3.44993e-05,-1,0.999966],[-1,-1,2.08498e-05,0.999979],[-1,-1,-1,-1],[-1,-1,0.00689655,0.993103],[-1,0.553554,0.446446,-1],[-1,0.497531,0.502469,-1],[0.0623854,0.400036,0.537579,-1],[0.0808004,0.360722,0.558477,-1],[0.0821811,0.345947,0.571872,-1],[-1,0.355685,0.410099,0.234216],[0.138897,0.43744,0.423663,-1],[0.288235,0.711765,-1,-1],[0.0951558,0.397601,0.507244,-1],[0.0495344,0.14997,0.800495,-1],[-1,0.0179809,0.954456,0.0275626],[-1,0.00146866,0.997063,0.00146866],[-1,0.000114536,0.999771,0.000114536],[-1,1.25448e-05,0.999975,1.25448e-05],[-1,-1,-1,-1],[-1,0.22087,0.333107,0.446023],[0.295727,0.253538,0.450735,-1],[-1,0.0421085,0.334985,0.622906],[-1,-1,0.182556,0.817444],[0.41353,-1,0.192866,0.393604],[0.383698,-1,0.196367,0.419934],[0.391798,-1,0.222801,0.385401],[-1,0.256014,0.262003,0.481983],[0.850775,-1,0.0350493,0.114176],[0.0108398,-1,-1,0.98916],[0.998999,-1,0.000417624,0.000583294],[3.0105e-05,3.0105e-05,-1,0.99994],[0.999985,-1,1.05641e-05,4.69516e-06],[-1,-1,-1,-1],[0.436151,0.457423,-1,0.106426],[0.471853,0.528147,-1,-1],[0.320091,0.462279,0.21763,-1],[0.438216,0.396173,-1,0.165612],[0.953059,0.0278141,0.0191274,-1],[0.998011,0.00114681,-1,0.000842554],[0.999862,6.89743e-05,-1,6.89743e-05],[0.999987,6.29706e-06,-1,6.29706e-06],[-1,-1,-1,-1],[-1,0.538405,-1,0.461595],[-1,-1,0.951647,0.0483528],[-1,-1,0.986109,0.0138909],[-1,-1,0.768092,0.231908],[-1,0.334596,0.425396,0.240008],[0.199256,0.394888,0.405856,-1],[0.215417,0.389166,0.395417,-1],[0.314946,0.339399,0.345655,-1],[-1,0.381278,0.395142,0.22358],[0.241332,0.274968,0.4837,-1],[-1,0.127056,0.700007,0.172937],[-1,0.0107158,0.979866,0.00941817],[-1,0.000518132,0.998964,0.000518132],[-1,3.52184e-05,0.99993,3.52184e-05],[-1,2.11871e-05,-1,0.999979],[-1,-1,-1,-1],[0.864458,-1,-1,0.135542],[0.981509,-1,-1,0.0184906],[0.971365,-1,-1,0.0286346],[0.995664,-1,-1,0.00433578],[0.000335596,0.999418,-1,0.00024656],[1.75062e-05,0.999973,9.84725e-06,-1],[6.81705e-06,6.81705e-06,0.999986,-1],[-1,-1,-1,-1],[-1,0.348479,0.00967997,0.641841],[-1,0.490416,0.509584,-1],[-1,0.0106664,0.0199225,0.969411],[0.92647,-1,0.0166116,0.0569188],[0.496364,-1,-1,0.503636],[0.711707,-1,0.14799,0.140303],[0.343763,0.330328,-1,0.325909],[0.432008,0.328628,-1,0.239364],[0.526918,0.400313,-1,0.0727688],[0.399757,0.283763,-1,0.31648],[0.256956,0.307394,-1,0.435649],[0.248705,-1,0.304436,0.446859],[0.0947904,-1,0.0357689,0.869441],[0.00683179,-1,0.00939066,0.983778],[0.000438617,-1,0.000438617,0.999123],[1.74574e-05,-1,1.74574e-05,0.999965],[0.999981,-1,1.91942e-05,-1],[-1,-1,-1,-1],[0.997481,0.00251883,-1,-1],[-1,0.000420599,0.999579,-1],[0.999568,0.000432338,-1,-1],[-1,0.233543,0.766457,-1],[-1,0.00615614,0.993844,-1],[-1,0.0290345,0.0346063,0.936359],[-1,-1,0.994628,0.00537189],[-1,0.00180157,0.997149,0.00104926],[-1,0.000173387,0.9996,0.000226464],[-1,1.59484e-05,1.59484e-05,0.999968],[4.31026e-06,-1,0.999991,4.31026e-06],[-1,-1,-1,-1],[-1,0.560556,0.346057,0.093387],[-1,0.849412,0.150588,-1],[0.00705691,0.981456,0.0114874,-1],[0.00054224,0.99872,0.000738049,-1],[3.20983e-05,0.999936,3.20983e-05,-1],[4.93819e-06,0.999984,1.11109e-05,-1],[-1,-1,-1,-1],[0.00223257,0.995011,0.00275626,-1],[6.13468e-05,0.999877,6.13468e-05,-1],[0.999973,-1,2.68456e-05,-1],[-1,-1,-1,-1],[0.231514,-1,-1,0.768486],[0.889067,-1,-1,0.110933],[0.0678722,-1,-1,0.932128],[0.0100535,-1,-1,0.989946],[0.00126366,-1,0.0181103,0.980626],[0.00443747,-1,0.00884422,0.986718],[0.0246432,-1,0.0554472,0.91991],[0.105873,-1,0.458179,0.435948],[0.0261512,0.0249207,-1,0.948928],[0.0192338,-1,0.847083,0.133683],[-1,-1,0.578932,0.421068],[-1,0.242481,0.30843,0.449088],[0.1636,-1,0.585202,0.251198],[0.024717,-1,0.633469,0.341814],[-1,0.32217,0.427005,0.250825],[0.181808,-1,0.727233,0.0909583],[-1,0.77311,0.164686,0.062204],[-1,0.0152177,0.984782,-1],[-1,0.1463,0.544777,0.308923],[-1,0.962312,0.0281193,0.00956837],[0.00238044,0.00535599,0.992264,-1],[-1,0.999679,0.000141678,0.000179311],[1.20282e-05,0.999976,1.20282e-05,-1],[8.04015e-06,0.999984,8.04015e-06,-1],[-1,-1,-1,-1],[0.999304,0.000600312,9.60499e-05,-1],[6.2498e-06,2.49992e-05,-1,0.999969],[-1,-1,-1,-1],[0.00540004,-1,-1,0.9946],[0.00142952,0.0445634,-1,0.954007],[0.996623,0.0033772,-1,-1],[0.999437,0.000230836,-1,0.000332404],[0.999956,2.21965e-05,-1,2.21965e-05],[3.67694e-06,8.27311e-06,-1,0.999988],[-1,-1,-1,-1],[0.326885,-1,0.355504,0.317612],[-1,-1,0.856496,0.143504],[0.794505,-1,0.025335,0.18016],[0.978883,-1,-1,0.0211167],[0.00782653,0.982659,-1,0.0095143],[0.0014058,0.998594,-1,-1],[0.000264654,0.999735,-1,-1],[9.31251e-06,0.999842,0.000149,-1],[6.51867e-06,0.999982,1.15887e-05,-1],[4.80913e-06,0.99999,4.80913e-06,-1],[-1,-1,-1,-1],[0.0112882,0.0862823,0.902429,-1],[-1,0.188368,0.281389,0.530243],[-1,-1,0.166088,0.833912],[-1,0.327479,0.64508,0.0274411],[-1,0.0538304,0.792259,0.15391],[0.240145,0.0119989,0.747856,-1],[0.0212637,0.0164213,0.962315,-1],[-1,0.0121316,0.987868,-1],[-1,0.015073,0.0377149,0.947212],[-1,-1,0.0545636,0.945436],[-1,-1,0.85056,0.14944],[-1,0.00659454,0.973332,0.0200732],[-1,0.000763566,0.997845,0.0013916],[-1,7.79571e-05,0.999844,7.79571e-05],[-1,2.06607e-05,-1,0.999979],[9.54061e-06,-1,-1,0.99999],[-1,-1,-1,-1],[0.999433,-1,-1,0.000566572],[0.999988,6.03679e-06,-1,6.03679e-06],[-1,-1,-1,-1],[0.00485772,0.000718597,-1,0.994424],[0.0121238,-1,0.00584675,0.982029],[0.00117287,-1,0.000405836,0.998421],[5.32737e-05,-1,5.32737e-05,0.999893],[0.999979,-1,2.06607e-05,-1],[-1,-1,-1,-1],[0.575751,0.424249,-1,-1],[0.651741,0.348259,-1,-1],[0.00280591,0.0368714,-1,0.960323],[0.0722529,0.927747,-1,-1],[0.392072,0.607928,-1,-1],[0.00186228,0.948024,-1,0.0501142],[0.00542079,0.981676,0.0129037,-1],[0.0227741,0.972807,0.00441861,-1],[0.20067,0.717958,0.0813725,-1],[0.286377,0.411643,0.30198,-1],[0.133123,0.610322,-1,0.256555],[0.254469,0.721818,-1,0.0237129],[0.157779,0.130689,0.711531,-1],[-1,0.794966,-1,0.205034],[-1,0.00466941,0.995331,-1],[-1,0.000745957,0.999254,-1],[-1,0.00208435,0.000521088,0.997395],[-1,0.808965,0.191035,-1],[-1,0.00901305,0.990987,-1],[-1,0.0117837,0.972452,0.0157641],[-1,0.0021043,0.995464,0.00243178],[-1,0.000238397,0.999492,0.000269127],[-1,2.40674e-05,0.999952,2.40674e-05],[-1,7.99101e-06,0.999988,4.49494e-06],[-1,-1,-1,-1],[-1,0.0102017,-1,0.989798],[0.0022841,0.997716,-1,-1],[0.000767134,-1,-1,0.999233],[0.000185074,0.999815,-1,-1],[0.000133804,-1,-1,0.999866],[0.000129651,0.99987,-1,-1],[6.06098e-05,-1,-1,0.999939],[0.000142763,0.999857,-1,-1],[0.00471084,-1,-1,0.995289],[7.43108e-05,-1,-1,0.999926],[0.00185438,-1,0.443387,0.554758],[-1,-1,0.453678,0.546322],[0.533346,-1,0.00331215,0.463342],[0.0200791,-1,-1,0.979921],[0.148688,-1,0.591065,0.260246],[0.024801,0.0150031,-1,0.960196],[0.0110909,-1,0.787906,0.201003],[-1,-1,0.267233,0.732767],[0.114902,-1,0.185626,0.699471],[0.0197085,-1,-1,0.980292],[0.00611143,-1,0.970251,0.0236377],[-1,-1,0.875507,0.124493],[-1,0.0263719,0.852533,0.121095],[0.0319889,-1,0.945797,0.0222145],[-1,0.0644387,0.907592,0.0279695],[-1,0.0187896,0.974971,0.00623981],[-1,0.996655,0.00267566,0.000668914],[0.000213281,0.00034548,0.999441,-1],[-1,0.999944,2.81717e-05,2.81717e-05],[6.98626e-06,6.98626e-06,0.999986,-1],[-1,-1,-1,-1],[-1,0.972953,0.018725,0.00832223],[0.997882,0.00159661,0.000521342,-1],[0.999916,8.44706e-05,-1,-1],[7.34407e-06,1.65242e-05,-1,0.999976],[-1,-1,-1,-1],[0.000787898,0.0229751,-1,0.976237],[0.886004,0.113996,-1,-1],[0.0216657,0.00737236,0.970962,-1],[0.494506,0.187269,0.318225,-1],[0.528847,0.471153,-1,-1],[0.15023,0.767597,0.0821732,-1],[0.984879,0.00804778,0.00707325,-1],[0.000512155,0.999057,-1,0.000430352],[0.999938,3.07767e-05,3.07767e-05,-1],[0.999978,1.07731e-05,-1,1.07731e-05],[-1,-1,-1,-1],[0.544344,0.216348,-1,0.239308],[-1,0.00601301,-1,0.993987],[-1,-1,0.0140401,0.98596],[-1,-1,0.000705895,0.999294],[-1,-1,0.00404698,0.995953],[-1,-1,0.141632,0.858368],[-1,0.00997856,0.792017,0.198004],[-1,0.00073631,0.954258,0.0450062],[-1,0.0006684,-1,0.999332],[0.470501,-1,-1,0.529499],[0.0121951,-1,-1,0.987805],[0.0409667,-1,0.776453,0.18258],[-1,-1,0.756616,0.243384],[-1,0.00619299,0.916734,0.077073],[-1,0.0856792,0.857759,0.0565616],[0.00802184,0.0442187,0.947759,-1],[-1,0.97379,0.020968,0.005242],[0.00199153,0.99462,0.00338824,-1],[0.000168592,0.99958,0.000251847,-1],[2.04277e-05,1.14906e-05,0.999968,-1],[-1,0.999985,7.74459e-06,7.74459e-06],[-1,-1,-1,-1],[0.999888,8.98352e-05,2.24588e-05,-1],[-1,-1,-1,-1],[0.626615,0.373385,-1,-1],[0.0676081,0.0700442,-1,0.862348],[0.00307692,-1,-1,0.996923],[0.000150793,-1,-1,0.999849],[1.54186e-05,6.85273e-06,-1,0.999978],[-1,-1,-1,-1],[-1,0.00433578,0.995664,-1],[0.00532544,0.994675,-1,-1],[0.000638204,0.999362,-1,-1],[4.52817e-05,0.999909,4.52817e-05,-1],[0.999985,1.02508e-05,4.5559e-06,-1],[-1,-1,-1,-1],[0.00392306,0.99387,-1,0.00220672],[0.000107374,-1,0.999893,-1],[-1,-1,0.999973,2.65696e-05],[-1,-1,-1,-1],[-1,-1,0.977995,0.0220049],[-1,-1,0.999107,0.000892692],[0.0014771,-1,-1,0.998523],[6.59151e-05,-1,-1,0.999934],[0.971104,-1,-1,0.0288964],[0.994548,0.00341099,-1,0.00204125],[-1,0.000536542,-1,0.999463],[-1,-1,8.98372e-05,0.99991],[0.999975,-1,7.55759e-06,1.70046e-05],[5.90548e-06,-1,5.90548e-06,0.999988],[-1,-1,-1,-1],[0.988045,-1,0.0119553,-1],[0.993434,0.00656642,-1,-1],[0.209412,0.790588,-1,-1],[0.0139421,-1,0.986058,-1],[0.416325,0.583675,-1,-1],[0.896769,0.103231,-1,-1],[0.0214013,0.976089,-1,0.00251001],[0.0264334,0.962207,0.0113599,-1],[0.00247561,0.996077,0.00144767,-1],[0.000163553,0.999701,0.000135168,-1],[1.4457e-05,0.999977,8.13207e-06,-1],[5.80629e-06,0.999988,5.80629e-06,-1],[-1,-1,-1,-1],[0.000863289,0.00117503,0.997962,-1],[-1,2.51242e-05,0.99995,2.51242e-05],[-1,-1,-1,-1],[-1,-1,0.944493,0.0555074],[-1,-1,0.665527,0.334473],[-1,-1,0.418034,0.581966],[0.987666,-1,-1,0.0123336],[0.65992,-1,-1,0.34008],[0.519298,-1,-1,0.480702],[0.00267671,-1,0.955616,0.0417078],[-1,-1,0.905911,0.0940889],[-1,-1,0.1711,0.8289],[-1,0.0419414,-1,0.958059],[0.649194,-1,-1,0.350806],[0.440826,-1,-1,0.559174],[0.607725,-1,-1,0.392275],[0.79626,-1,-1,0.20374],[0.509514,0.48672,-1,0.00376599],[0.459105,0.540895,-1,-1],[0.000885865,0.999114,-1,-1],[0.0134775,-1,-1,0.986522],[0.0189251,-1,-1,0.981075],[0.322931,-1,-1,0.677069],[0.990645,-1,-1,0.00935535],[0.95828,0.0271141,-1,0.0146057],[0.967776,0.00327128,-1,0.0289529],[0.943043,0.0203698,-1,0.0365873],[0.978336,0.0139826,-1,0.00768122],[0.997739,0.00140417,-1,0.000857036],[0.999847,9.35174e-05,-1,5.98511e-05],[-1,0.999983,-1,1.65782e-05],[-1,0.999992,7.90145e-06,-1],[-1,-1,-1,-1],[-1,0.947261,0.0527386,-1],[-1,0.732534,0.267466,-1],[-1,0.0136516,0.975806,0.0105427],[-1,0.450905,0.546049,0.00304609],[-1,0.592507,0.396245,0.0112474],[-1,0.885272,0.0653293,0.0493983],[0.36456,0.315566,0.319874,-1],[0.0377201,0.96228,-1,-1],[0.0162547,0.125422,0.858323,-1],[-1,0.560612,0.439388,-1],[0.0462893,0.013714,0.939997,-1],[-1,0.0052617,0.97995,0.0147883],[-1,0.996386,0.00194569,0.00166811],[5.56886e-05,-1,0.999944,-1],[-1,-1,0.999984,1.60318e-05],[-1,-1,0.999982,1.75651e-05],[-1,-1,-1,-1],[0.0380539,-1,-1,0.961946],[0.00218843,-1,-1,0.997812],[0.00109363,-1,-1,0.998906],[0.000150324,-1,-1,0.99985],[1.85388e-05,-1,-1,0.999981],[1.98231e-05,-1,-1,0.99998],[-1,-1,-1,-1],[0.00344828,-1,-1,0.996552],[0.706268,0.293732,-1,-1],[0.959093,0.0409065,-1,-1],[0.93668,0.0633196,-1,-1],[0.284551,0.715449,-1,-1],[0.394533,0.605467,-1,-1],[0.0188415,0.105263,0.875895,-1],[0.0666284,0.915546,0.0178257,-1],[-1,0.983193,0.00312864,0.0136781],[0.00106066,0.00144368,0.997496,-1],[-1,0.999898,5.11979e-05,5.11979e-05],[7.03576e-06,0.999986,7.03576e-06,-1],[-1,-1,-1,-1],[0.998996,0.00061207,0.000391725,-1],[-1,5.68135e-05,-1,0.999943],[-1,-1,-1,-1],[0.00802555,-1,-1,0.991974],[0.254966,0.683332,-1,0.061702],[0.979325,0.0206753,-1,-1],[0.754718,0.143512,-1,0.10177],[0.269296,0.71609,-1,0.0146141],[0.234395,0.645683,0.119922,-1],[-1,0.92505,-1,0.0749497],[-1,0.0762442,0.923756,-1],[-1,0.66462,0.33538,-1],[0.000905706,0.000788971,0.998305,-1],[-1,0.00909811,0.984716,0.00618582],[-1,0.0464587,0.952773,0.000767991],[-1,0.194105,0.805445,0.000449984],[0.0257234,0.320648,0.653628,-1],[-1,0.0307503,0.552817,0.416433],[-1,0.0472672,0.948195,0.00453825],[0.00780796,-1,0.992192,-1],[-1,-1,0.00267242,0.997328],[-1,-1,0.000692042,0.999308],[0.000445635,-1,0.00201232,0.997542],[0.000149932,-1,0.0028549,0.996995],[-1,-1,0.000686871,0.999313],[-1,-1,9.14188e-05,0.999909],[-1,-1,0.999988,1.19069e-05],[-1,5.94154e-06,3.34211e-06,0.999991],[-1,-1,-1,-1],[0.926511,-1,0.0413197,0.0321693],[0.997238,-1,-1,0.00276243],[0.915496,-1,0.0141568,0.0703476],[0.996207,-1,-1,0.00379319],[0.645967,0.347541,-1,0.0064913],[0.997454,-1,0.00254641,-1],[0.464437,-1,-1,0.535563],[0.000626675,0.994343,-1,0.00503081],[0.20071,-1,-1,0.79929],[0.0182556,-1,-1,0.981744],[0.00618222,-1,4.92843e-05,0.993768],[0.999969,-1,3.05907e-05,-1],[-1,-1,-1,-1],[-1,0.345033,0.654967,-1],[0.951987,-1,0.048013,-1],[-1,0.029938,0.970062,-1],[-1,0.014214,0.985786,-1],[-1,0.193274,0.79812,0.00860551],[-1,0.527824,0.470114,0.00206181],[-1,0.867507,0.118857,0.0136358],[0.17439,0.394376,0.431234,-1],[-1,0.669272,0.121725,0.209003],[0.478332,0.504975,0.0166934,-1],[0.0740671,0.925933,-1,-1],[0.0159401,-1,0.98406,-1],[-1,-1,0.00811369,0.991886],[-1,-1,0.00609302,0.993907],[-1,-1,0.133133,0.866867],[0.824041,-1,0.175334,0.000624937],[0.000746038,-1,0.969852,0.0294017],[-1,-1,0.558758,0.441242],[0.0108325,-1,0.829361,0.159807],[0.019157,-1,0.0851362,0.895707],[0.98747,-1,0.00707005,0.00545998],[-1,0.000298204,-1,0.999702],[2.69845e-05,-1,2.69845e-05,0.999946],[0.999983,-1,1.71814e-05,-1],[-1,-1,-1,-1],[0.784044,0.215956,-1,-1],[0.00175962,0.99824,-1,-1],[0.0300521,0.969948,-1,-1],[0.508439,0.000210328,0.49135,-1],[0.00114293,0.998857,-1,-1],[0.999855,-1,-1,0.000145138],[-1,-1,0.998792,0.00120764],[0.992226,-1,-1,0.00777386],[0.976215,-1,-1,0.0237854],[0.0051095,0.99005,-1,0.00484063],[0.00365654,0.996343,-1,-1],[-1,0.998741,-1,0.00125856],[-1,0.998752,0.00124807,-1],[-1,0.99975,0.000250054,-1],[-1,0.999964,3.60511e-05,-1],[-1,-1,0.999991,8.77907e-06],[-1,-1,0.99999,9.9692e-06],[-1,-1,-1,-1],[0.0186319,-1,0.776225,0.205143],[-1,0.992789,0.000669785,0.00654087],[-1,-1,0.431294,0.568706],[-1,-1,0.268057,0.731943],[0.99287,-1,0.00604282,0.0010876],[0.00458751,-1,0.983091,0.0123219],[-1,-1,0.0438089,0.956191],[0.00476216,-1,0.0289751,0.966263],[0.000408277,-1,0.00173677,0.997855],[-1,-1,0.000177019,0.999823],[-1,-1,2.62978e-05,0.999974],[4.84447e-06,-1,4.84447e-06,0.99999],[-1,-1,-1,-1],[-1,-1,0.942415,0.0575848],[-1,0.0310744,0.0157326,0.953193],[0.999248,-1,0.000751629,-1],[0.99989,0.000110459,-1,-1],[0.999978,2.15826e-05,-1,-1],[1.43478e-05,0.999986,-1,-1],[-1,-1,-1,-1],[0.115966,0.0349547,0.849079,-1],[-1,0.00113725,0.998863,-1],[0.00571576,0.994284,-1,-1],[0.0180389,0.981961,-1,-1],[0.972897,0.0271034,-1,-1],[-1,0.000336559,-1,0.999663],[0.02247,0.97753,-1,-1],[0.187057,0.812943,-1,-1],[0.602919,0.358036,-1,0.0390451],[0.62128,0.342736,-1,0.035984],[0.117383,0.86872,0.0138976,-1],[0.280286,0.716458,0.00325622,-1],[-1,0.995927,-1,0.00407339],[-1,0.958011,0.0419888,-1],[-1,0.993058,0.00694244,-1],[-1,0.999766,0.000233626,-1],[-1,-1,0.990912,0.00908823],[-1,-1,0.998495,0.00150517],[0.000328748,-1,0.9994,0.000271692],[-1,0.999975,-1,2.48218e-05],[-1,-1,0.366555,0.633445],[-1,-1,2.02901e-05,0.99998],[-1,-1,-1,-1],[0.783312,-1,0.00881136,0.207876],[0.187749,-1,0.602036,0.210215],[-1,-1,0.327039,0.672961],[0.0350636,-1,0.134912,0.830025],[0.0155208,-1,-1,0.984479],[0.0076203,-1,0.99238,-1],[-1,-1,0.100409,0.899591],[-1,-1,0.169815,0.830185],[-1,-1,0.138714,0.861286],[-1,0.681355,0.302824,0.015821],[-1,0.34373,0.380533,0.275737],[0.00750694,-1,0.0675625,0.924931],[0.00143763,-1,0.868816,0.129746],[-1,0.0125228,-1,0.987477],[0.997265,0.00273544,-1,-1],[0.999691,0.00030924,-1,-1],[0.999766,0.000234223,-1,-1],[0.999953,4.66709e-05,-1,-1],[0.114239,0.885761,-1,-1],[0.999989,-1,1.10556e-05,-1],[-1,-1,-1,-1],[0.00330764,0.986824,-1,0.00986824],[0.00234842,-1,0.997652,-1],[-1,0.995204,0.0047958,-1],[0.0243299,0.0227174,0.952953,-1],[-1,0.999143,0.000371544,0.000485282],[9.75872e-05,0.999872,3.01195e-05,-1],[2.04742e-05,0.99998,-1,-1],[1.48155e-05,0.999985,-1,-1],[-1,-1,-1,-1],[0.267506,-1,-1,0.732494],[0.00714127,0.818503,-1,0.174356],[0.085003,-1,-1,0.914997],[0.405146,-1,-1,0.594854],[0.375983,-1,0.106329,0.517688],[0.814467,-1,0.00140335,0.184129],[-1,0.953412,-1,0.0465878],[-1,-1,0.000308774,0.999691],[-1,0.999748,0.000251889,-1],[-1,-1,0.00721131,0.992789],[-1,-1,0.00841202,0.991588],[-1,0.0845373,0.00528358,0.910179],[0.991303,-1,0.00677074,0.0019259],[-1,-1,0.0204817,0.979518],[-1,-1,0.00804331,0.991957],[-1,-1,0.998789,0.00121137],[-1,0.000103885,0.999747,0.000149594],[-1,1.16679e-05,0.99997,1.82311e-05],[-1,4.83737e-06,0.99999,4.83737e-06],[-1,-1,-1,-1],[-1,0.0331565,-1,0.966844],[0.997905,-1,-1,0.00209527],[0.999681,-1,-1,0.000318776],[0.999972,-1,-1,2.80682e-05],[0.999972,-1,-1,2.77585e-05],[-1,-1,-1,-1],[0.760973,-1,0.232738,0.00628903],[-1,-1,0.716683,0.283317],[0.00221005,-1,0.0894977,0.908292],[0.998019,-1,0.00198117,-1],[0.000564651,0.999435,-1,-1],[0.000474605,0.584163,-1,0.415362],[0.593727,0.405935,-1,0.000338592],[0.352013,0.647122,-1,0.000864249],[0.00870318,0.986591,-1,0.00470544],[0.109356,0.24033,0.650314,-1],[-1,0.111984,0.888016,-1],[-1,0.000583537,0.999416,-1],[0.259379,0.740621,-1,-1],[0.308229,0.691771,-1,-1],[0.000629585,0.00117072,-1,0.9982],[0.237083,0.762917,-1,-1],[0.916456,0.0835441,-1,-1],[0.000474072,0.00976476,-1,0.989761],[-1,0.999722,-1,0.000277701],[-1,0.00589523,0.994105,-1],[-1,0.00570205,0.994298,-1],[-1,0.00291084,0.997089,-1],[-1,0.000140655,0.999859,-1],[0.998541,0.00145935,-1,-1],[0.00044704,0.999553,-1,-1],[6.76934e-05,7.702e-05,0.999855,-1],[-1,8.85763e-06,0.999991,-1],[-1,7.37748e-06,0.999993,-1],[-1,1.56119e-06,0.999996,2.77545e-06],[-1,-1,-1,-1],[-1,0.0487229,0.538186,0.413091],[-1,0.0587719,0.551695,0.389533],[0.147218,-1,0.334273,0.518509],[-1,0.00427416,-1,0.995726],[0.884073,-1,-1,0.115927],[0.0698202,-1,-1,0.93018],[0.0364923,-1,0.963083,0.000424411],[0.446215,-1,-1,0.553785],[0.741021,-1,-1,0.258979],[0.441846,0.0588214,-1,0.499332],[0.926858,-1,0.0605152,0.0126269],[0.465159,0.534841,-1,-1],[0.674585,0.325415,-1,-1],[-1,0.00236342,-1,0.997637],[-1,-1,0.0485894,0.951411],[0.995044,-1,0.00203118,0.0029249],[0.0020025,-1,-1,0.997997],[0.999749,-1,0.00025139,-1],[0.999944,5.63407e-05,-1,-1],[0.999975,2.53239e-05,-1,-1],[0.99998,1.95536e-05,-1,-1],[-1,-1,-1,-1],[0.00204328,0.997957,-1,-1],[9.42418e-05,0.999812,9.42418e-05,-1],[1.08561e-05,1.08561e-05,0.999978,-1],[-1,-1,-1,-1],[-1,0.000411047,0.00256904,0.99702],[-1,0.000424944,0.999575,-1],[0.999487,0.000512673,-1,-1],[2.7913e-05,0.000251217,0.999721,-1],[0.99709,0.00291013,-1,-1],[0.000674195,0.999326,-1,-1],[0.999796,-1,0.000204364,-1],[0.999906,-1,-1,9.39898e-05],[0.999987,-1,-1,1.34338e-05],[-1,0.999989,-1,1.07497e-05],[-1,0.999991,8.79644e-06,-1],[-1,-1,-1,-1],[-1,0.975447,0.024553,-1],[-1,0.999229,0.00077101,-1],[-1,-1,0.985681,0.0143188],[-1,-1,0.998638,0.0013621],[0.999715,-1,-1,0.000285255],[0.999854,-1,-1,0.000146492],[2.24254e-05,-1,-1,0.999978],[4.22792e-06,-1,7.5163e-06,0.999988],[-1,-1,-1,-1],[0.754025,-1,0.0339276,0.212048],[0.497449,0.0181074,-1,0.484444],[0.0429354,-1,0.957065,-1],[-1,0.00372885,0.230199,0.766072],[-1,-1,0.165347,0.834653],[0.527369,-1,0.470807,0.0018248],[-1,-1,0.959819,0.0401806],[-1,-1,0.422505,0.577495],[0.667898,-1,0.32137,0.0107319],[-1,0.935297,0.0205632,0.0441402],[-1,0.0776931,0.922307,-1],[-1,0.00278254,-1,0.997217],[0.000183572,0.999816,-1,-1],[0.00030171,-1,-1,0.999698],[0.0172423,0.982758,-1,-1],[0.000765688,0.999234,-1,-1],[0.00715105,0.992849,-1,-1],[0.00583029,0.99417,-1,-1],[0.998927,0.00107311,-1,-1],[0.999764,0.000117835,-1,0.000117835],[0.999975,1.441e-05,-1,1.05869e-05],[0.999992,3.86356e-06,-1,3.86356e-06],[-1,-1,-1,-1],[-1,-1,0.463014,0.536986],[-1,-1,0.705666,0.294334],[-1,-1,0.548479,0.451521],[0.416433,-1,-1,0.583567],[0.557228,-1,-1,0.442772],[0.0977846,0.321238,-1,0.580978],[0.511626,-1,-1,0.488374],[-1,-1,0.486598,0.513402],[-1,0.474244,0.525756,-1],[-1,-1,-1,-1],]

function updateEnvironment(index){
    env = new Environment()
    for(i=0; i<index; i++){
        if(i == 0 || env.actionType == 1){
            env.chanceAction(actions[i])
        }
        else{
            env.agentAction(actions[i])
        }
        while(env.actionType == 0){
            // Check if there is only one valid action
            numValidActions = 0
            validAction = -1
            for(d = 0; d < 4; d++){
                if(env.validAgentAction(d)){
                    numValidActions++
                    validAction = d
                }
            }
            if(numValidActions == 1){
                env.agentAction(validAction)
            }
            else{
                break
            }
        }
    }
}


updateEnvironment(1)
currAction = actions[1]
currActionIndex = 2

/*
updateEnvironment(203)
currAction = actions[203]
currActionIndex = 204
*/
tick = 0


/*
//Manual game:
currAction = 0
tick = -1
env.randomChanceAction()
*/

console.log(env)


function fillRect(color,sx,sy,l,w){
    ctx.fillStyle = color;
    ctx.fillRect(sx,sy,l,w);
}

function drawLine(color,p1x,p1y,p2x,p2y, width){
    ctx.strokeStyle = color;
    ctx.lineWidth = width;
    ctx.beginPath();
    ctx.moveTo(p1x,p1y);
    ctx.lineTo(p2x,p2y);
    ctx.stroke();
}

function fillCirc(color,x,y,r){
    ctx.beginPath();
    ctx.arc(x,y,r,0,2*pi);
    ctx.fillStyle = color;
    ctx.fill();
}

function fillText(text,color,size,x,y){
    ctx.font = String(size)+"px Arial";
    ctx.fillStyle = color;
    ctx.textAlign = "center";
    ctx.fillText(text,x,y);
}

document.addEventListener("keydown",keyHandler);
document.addEventListener("click",clickHandler);

keyMove = ["ArrowRight","ArrowDown","ArrowLeft","ArrowUp"]

paused = true

function keyHandler(event){
    key = event.code
    event.preventDefault()
    /*
    for(i=0; i<4; i++){
        if(keyMove[i] == key){
            if(env.timer != TIME_LIMIT && env.validAgentAction(i)){
                currAction = i
                tick = 0
            }
        }
    }
    */
    if(key == "Space"){
        paused = !paused
        if(paused){
            tick = 0
        }
    }
    if(key == "ArrowRight"){
        while(true){
            currActionIndex++
            currAction = actions[currActionIndex-1]
            updateEnvironment(currActionIndex-1)
            if(env.actionType == 0){
                break
            }
        }
    }
    if(key == "ArrowLeft"){
        while(true){
            currActionIndex--
            currAction = actions[currActionIndex-1]
            updateEnvironment(currActionIndex-1)
            if(env.actionType == 0){
                break
            }
        }
    }
    if(key == "ArrowDown"){
        currActionIndex = 2
        currAction = actions[currActionIndex-1]
        updateEnvironment(currActionIndex-1)
    }
    if(key == "ArrowUp"){
        currActionIndex = actions.length - 15
        while(true){
            currActionIndex++
            currAction = actions[currActionIndex-1]
            updateEnvironment(currActionIndex-1)
            if(env.actionType == 0){
                break
            }
        }
    }
}

function clickHandler(event){
    rect = canvas.getBoundingClientRect();
    x = event.clientX - rect.left;
    y = event.clientY - rect.top;
}

function draw(){
    fillRect(space, 0, 0, windx, windy)
    fillRect(cLine, marginx - border, marginy - border, boardx*cellS + 2*border, boardy*cellS + 2*border)
    fillRect(space, marginx, marginy, boardx*cellS, boardy*cellS)
    for(var i = 0; i < boardx; i++){
        for(var j = 0; j < boardy; j++){
            if((i + j) % 2 == 0){
                fillRect(cShade, marginx + j * cellS, marginy + i * cellS, cellS, cellS)
            }
        }
    }
    fillCirc(cApple, marginx + env.appley*cellS + cellS/2, marginy + env.applex*cellS + cellS/2, appleSize/2)
    for(i = 0; i < boardx; i++){
        for(j = 0; j < boardy; j++){
            type = env.snake[i][j]
            if(type != -1){
                centerx = marginx + j*cellS + cellS/2
                centery = marginy + i*cellS + cellS/2
                slideProp = tick / framesPerMove
                if(i == env.tailx && j == env.taily && (env.headx + dir[currAction][0] != env.applex || env.heady + dir[currAction][1] != env.appley)){
                    nextx = centerx + dir[type][1] * cellS * slideProp
                    nexty = centery + dir[type][0] * cellS * slideProp
                    fillCirc(cSnake, nextx, nexty, snakeWidth / 2)
                    drawLine(cSnake, nextx, nexty, centerx + dir[type][1] * cellS, centery + dir[type][0] * cellS, snakeWidth)
                }
                else{
                    fillCirc(cSnake, centerx, centery, snakeWidth / 2)
                    if(type == 4){
                        nextDir = dir[currAction]
                        nextx = centerx + nextDir[1] * cellS * (tick / framesPerMove)
                        nexty = centery + nextDir[0] * cellS * (tick / framesPerMove)
                        drawLine(cSnake, centerx, centery, nextx, nexty, snakeWidth)
                        fillCirc(cSnake, nextx, nexty, snakeWidth / 2)
                    }
                    else{
                        drawLine(cSnake, centerx, centery, centerx + dir[type][1] * cellS, centery + dir[type][0] * cellS, snakeWidth)
                    }
                }
            }
        }
    }
    fillText("Score: " + env.score.toString(), cText, textSize, windx/2, marginy/2)
    fillText("Timer: " + env.timer.toString(), cText, textSize, windx/2, marginy/2 + textSize * 1.5)


    fillText("Value", cValue, textSize, marginx/3, textSize)
    fillText(values[currActionIndex-2].toString(), cText, textSize, marginx*2/3, textSize)
    fillText("Search Value", cSearch, textSize, marginx/3, textSize*2)
    fillText(search_values[currActionIndex-2].toString(), cText, textSize, marginx*2/3, textSize*2)
    fillText("Network Value", cNetwork, textSize, marginx/3, textSize*3)
    fillText(network_values[currActionIndex-2].toString(), cText, textSize, marginx*2/3, textSize*3)

    drawLine(cValue, marginx/4, windy/2, marginx/4, windy/2 - values[currActionIndex-2] * 25, marginx/4)

    drawLine(cSearch, marginx*2/4, windy/2, marginx*2/4, windy/2 - search_values[currActionIndex-2] * 25, marginx/4)

    drawLine(cNetwork, marginx*3/4, windy/2, marginx*3/4, windy/2 - network_values[currActionIndex-2] * 25, marginx/4)

    fillText("Search Policy", cPolicy, textSize, windx - marginx/3, textSize);
    fillText("Network Policy", cNetPolicy, textSize, windx - marginx/3, textSize*2);
    scale = 200
    for(d=0; d<4; d++){
        if(search_policy[currActionIndex-2][d] != -1){
            x = windx - marginx/2
            y = windy/2
            drawLine(cPolicy, x, y, x + dir[d][1] * search_policy[currActionIndex-2][d] * scale, y + dir[d][0] * search_policy[currActionIndex-2][d] * scale, 20)
        }
    }
    for(d=0; d<4; d++){
        if(search_policy[currActionIndex-2][d] != -1){
            x = windx - marginx/2
            y = windy/2
            drawLine(cNetPolicy, x, y, x + dir[d][1] * network_policy[currActionIndex-2][d] * scale, y + dir[d][0] * network_policy[currActionIndex-2][d] * scale, 10)
        }
    }
}

endState = false

function update(){
    if(endState) return
    draw()
    if(!paused){
        tick++
    }
    if(tick >= framesPerMove){
        tick = 0

        env.agentAction(currAction)
        if(env.actionType == 1){
            env.chanceAction(actions[currActionIndex])
            currActionIndex++
        }
        if(env.timer == TIME_LIMIT){
            endState = true
            return
        }

        // Check if there is only one valid action
        numValidActions = 0
        validAction = -1
        for(i = 0; i < 4; i++){
            if(env.validAgentAction(i)){
                numValidActions++
                validAction = i
            }
        }
        if(numValidActions == 0){
            endState = true
            return
        }
        if(numValidActions == 1){
            currAction = validAction
        }
        else{
            currAction = actions[currActionIndex]
            currActionIndex++
        }
    }
}

function updateManual(){
    draw()
    if(tick == -1){
        
    }
    else if(tick < framesPerMove){
        tick++
    }
    else{
        env.agentAction(currAction)
        tick = -1
        if(env.actionType == 1){
            env.randomChanceAction()
        }
    }
}

var ONE_FRAME_TIME = 1000 / 60 ;
var mainloop = function() {
    update()
    //updateManual()
};
setInterval( mainloop, ONE_FRAME_TIME );

</script>

</body>

</html>
